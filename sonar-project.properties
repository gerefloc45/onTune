# SonarCloud configuration for onTune Discord Bot

# Project identification
sonar.projectKey=onTune-discord-bot
sonar.organization=your-organization
sonar.projectName=onTune Discord Bot
sonar.projectDescription=A feature-rich Discord music bot with web dashboard
sonar.projectVersion=1.0.0

# Source code configuration
sonar.sources=src
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# Language configuration
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.testExecutionReportPaths=coverage/test-reporter.xml

# Exclusions
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/logs/**,**/cache/**,**/backup/**,**/*.min.js,**/vendor/**
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/build/**
sonar.coverage.exclusions=**/tests/**,**/*.test.js,**/*.spec.js,**/jest.config.js,**/babel.config.js,**/webpack.config.js,**/*.config.js,**/scripts/**

# Duplication exclusions
sonar.cpd.exclusions=**/tests/**,**/*.test.js,**/*.spec.js

# Quality gate
sonar.qualitygate.wait=true

# Analysis parameters
sonar.javascript.environments=node,browser,jest

# Code coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.coverage.exclusions=**/tests/**,**/*.test.js,**/*.spec.js,**/jest.config.js,**/babel.config.js,**/webpack.config.js,**/*.config.js,**/scripts/**,**/mocks/**,**/fixtures/**

# Test execution
sonar.testExecutionReportPaths=coverage/test-reporter.xml

# Security hotspots
sonar.security.hotspots.inheritFromParent=true

# Issues
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Ignore console.log warnings in specific files
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S2228
sonar.issue.ignore.multicriteria.e1.resourceKey=**/scripts/**

# Ignore magic numbers in configuration files
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S109
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.config.js

# Ignore TODO comments (we track them separately)
sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S1135
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*

# Ignore cognitive complexity in test files
sonar.issue.ignore.multicriteria.e4.ruleKey=javascript:S3776
sonar.issue.ignore.multicriteria.e4.resourceKey=**/tests/**

# Ignore function complexity in test files
sonar.issue.ignore.multicriteria.e5.ruleKey=javascript:S1541
sonar.issue.ignore.multicriteria.e5.resourceKey=**/tests/**

# Branch analysis
sonar.branch.name=${GITHUB_HEAD_REF}
sonar.branch.target=${GITHUB_BASE_REF}

# Pull request analysis
sonar.pullrequest.key=${GITHUB_PR_NUMBER}
sonar.pullrequest.branch=${GITHUB_HEAD_REF}
sonar.pullrequest.base=${GITHUB_BASE_REF}

# SCM configuration
sonar.scm.provider=git
sonar.scm.forceReloadAll=true

# Links
sonar.links.homepage=https://github.com/your-username/onTune
sonar.links.ci=https://github.com/your-username/onTune/actions
sonar.links.scm=https://github.com/your-username/onTune
sonar.links.issue=https://github.com/your-username/onTune/issues

# Additional settings
sonar.log.level=INFO
sonar.verbose=false

# Working directory
sonar.working.directory=.sonarcloud

# Analysis timeout
sonar.ws.timeout=300

# Memory settings
sonar.scanner.javaOpts=-Xmx2048m